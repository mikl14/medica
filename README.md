# Medica

**Medica** — это модификация клиентского приложения для заполнения медицинских форм, добавляющая возможность голосового ввода.

---

## Основные возможности

- Голосовой ввод данных в медицинские формы.
- Использование библиотеки [SpeechRecognision](https://github.com/mikl14/SpeechRecognision) для распознавания речи.
- Поддержка медицинских терминов с помощью модифицированной модели Vosk.
- Защита ключевых файлов модели от подмены с помощью проверки хеш-суммы.
- Автоматическое заполнение всех листов формы при распознавании поля.
- Гибкая настройка распознавания через файл `vocabulary.json`.

---

## Распознавание речи

Для работы с распознаванием речи используется библиотека [SpeechRecognision](https://github.com/mikl14/SpeechRecognision).

### Модель Vosk

- В корне проекта находится модифицированная модель Vosk, специально адаптированная для медицинских терминов.
- Ключевые файлы модели защищены: при инициализации производится проверка их хеш-суммы.
- Если файлы модели были изменены, приложение не будет работать.

---

## Настройка словаря

- Для компенсации несовершенства распознавания речи используются инструменты подмены слов из библиотеки SpeechRecognision.
- Все варианты распознавания, которые должны быть опознаны как поля для ввода, перечисляются в файле `config/vocabulary.json`.
- От полноты и точности заполнения файла `vocabulary.json` зависит итоговая точность распознавания.
- Для заполнения сразу нескольких полей используйте между именами полей разделитель | (см. пример 1)
- Не в коем случае не используйте латиницу в фразах в json! только в названиях полей

### Пример структуры `vocabulary.json`:
{
"Объем левого предсердия": "tbLeftAtriumVolume|tbLeftAtriumTransverseSize_AdultShort",
"Объем правого предсердия": "tbRightAtriumVolume",
}

---

## Ограничения

- **Vosk-модель не может распознавать аббревиатуры**, так как для них невозможно создать фонетическую модель.
- Сокращения типа "КДО" не будут распознаны.
- Для заполнения таких полей используйте либо полное произношение, либо сокращения из русских слов.
- Такие фразы должны быть описаны в `vocabulary.json` в паре с именами своих полей.

---

## Заполнение форм

- Заполненные поля автоматически подставляются на всех листах, где они присутствуют.
- Если для заполнения требуется несколько полей, их имена в файле `vocabulary.json` должны быть перечислены через разделитель `|` без пробелов.

---

## Важно

- **Точность и полнота файла `vocabulary.json` критически важны для корректной работы приложения.**
- Следите за целостностью файлов модели Vosk — любые изменения приведут к остановке работы приложения.

---

## Обратная связь

Если у вас есть предложения или вопросы — создавайте issue или pull request!
